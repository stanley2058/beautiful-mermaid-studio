@import url("https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=JetBrains+Mono:wght@400;500&family=DM+Sans:wght@400;500;600;700&display=swap");
@import "../styles/globals.css";

@layer base {
  html, body, #root {
    min-height: 100%;
  }

  body {
    margin: 0;
    min-width: 320px;
    font-family: "DM Sans", system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  [data-display-font] {
    font-family: "DM Serif Display", Georgia, serif;
  }

  pre, code, textarea {
    font-family: "JetBrains Mono", "Consolas", monospace;
  }
}

/* Dot pattern - not feasible with inline Tailwind */
.dot-pattern {
  background-image: radial-gradient(circle, oklch(0.18 0.02 260 / 8%) 1px, transparent 1px);
  background-size: 24px 24px;
}
.dark .dot-pattern {
  background-image: radial-gradient(circle, oklch(0.92 0.008 80 / 6%) 1px, transparent 1px);
}

/* Viewport dot grid */
.viewport-dots {
  background-image: radial-gradient(circle, oklch(0.18 0.02 260 / 8%) 1px, transparent 1px);
  background-size: 20px 20px;
}
.dark .viewport-dots {
  background-image: radial-gradient(circle, oklch(0.92 0.008 80 / 6%) 1px, transparent 1px);
}

/* SVG diagram rendering */
.diagram-stage {
  position: absolute;
  top: 0;
  left: 0;
  transform-origin: top left;
  will-change: transform;
  user-select: none;
  -webkit-user-select: none;
}

.diagram-svg svg {
  display: block;
  width: max-content;
  height: max-content;
  filter: drop-shadow(0 4px 12px oklch(0 0 0 / 10%));
}

.diagram-svg, .diagram-svg * {
  user-select: none;
  -webkit-user-select: none;
}

/* Animations */
.reveal-up {
  animation: reveal-up 480ms cubic-bezier(0.16, 1, 0.3, 1) both;
}

@keyframes reveal-up {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes pulse-dot {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

@keyframes toast-in {
  from { opacity: 0; transform: translateX(-50%) translateY(-4px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

@media (prefers-reduced-motion) {
  *, ::before, ::after {
    animation: none !important;
    transition-duration: 0ms !important;
  }
}
